<section class="flex justify-center items-center min-h-screen bg-gray-50">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-md p-8 border border-gray-200">
    <!-- Title -->
    <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">
      Forgot Password
    </h2>
    <p class="text-sm text-gray-500 text-center mb-8">
      Enter your registered email and we'll send you a link to reset your
      password.
    </p>

    <!-- Form -->
    <form [formGroup]="forgotForm" (ngSubmit)="forgetPassword()" class="space-y-5">
      <!-- Email Input -->
      <div class="item">
        <div class="flex">
          <span
            class="inline-flex items-center px-3 text-sm bg-gray-100 border border-e-0 border-gray-300 rounded-s-md"
          >
            <svg
              class="w-4 h-4 text-gray-500"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                d="M2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm2 0v.01L12 13l8-8.99V4H4Zm16 16V8.41l-8 8-8-8V20h16Z"
              />
            </svg>
          </span>
          <input
            formControlName="email"
            type="text"
            placeholder="User email"
            id="email"
            [class]="{
              'border-red-500': forgotForm.get('email')?.invalid && forgotForm.get('email')?.touched,
              'border-green-500': forgotForm.get('email')?.valid,
              'border': true,
              'p-2.5': true,
              'rounded-e': true,
              'w-full': true,
              'focus:outline-none': true,
              'focus:ring-0': true
            }"
          />
        </div>

        <!-- Validation -->
        @if (forgotForm.get('email')?.invalid && forgotForm.get('email')?.touched) {
          @if (forgotForm.get('email')?.errors?.['required']) {
            <p class="mt-2 text-sm text-red-600">Email is required</p>
          }
          @if (forgotForm.get('email')?.errors?.['email']) {
            <p class="mt-2 text-sm text-red-600">Please enter a valid email</p>
          }
        }
      </div>

      <!-- Submit Button -->
      <button
        [disabled]="forgotForm.invalid || isLoading"
        type="submit"
        class="w-full whitespace-nowrap py-2.5 px-12 text-sm font-medium text-white
               bg-green-700 rounded-lg border border-green-700
               hover:bg-green-800 
               disabled:bg-green-300 disabled:hover:bg-green-300 disabled:cursor-not-allowed
               focus:ring-4 focus:outline-none focus:ring-green-300
               dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 cursor-pointer"
      >
        Send Reset Link
       @if (isLoading) {
          <i class="fa-solid fa-spinner fa-spin ml-2"></i>
        }
      </button>
    </form>

    <!-- Back to Login -->
    <div class="text-center mt-6">
      <a
        routerLink="/login"
        class="text-sm text-green-700 hover:underline dark:text-green-400"
        >Back to Login</a
      >
    </div>
  </div>
</section>
