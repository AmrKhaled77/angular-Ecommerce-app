@if (isDeleteLoading()) {
<div class="flex gap-4 items-center p-4 bg-white rounded-2xl shadow-md animate-pulse cursor-pointer">
  <!-- Image Placeholder -->
  <div class="h-24 w-24 bg-gray-200 rounded-xl overflow-hidden relative">
    <div class="absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-shimmer"></div>
  </div>

  <!-- Text Placeholder -->
  <div class="flex-1 space-y-3 py-1">
    <div class="h-4 w-2/3 bg-gray-200 rounded"></div>
    <div class="h-4 w-1/2 bg-gray-200 rounded"></div>
    <div class="h-4 w-1/4 bg-gray-200 rounded"></div>
  </div>

  <!-- Button/Price Placeholder -->
  <div class="h-10 w-20 bg-gray-200 rounded"></div>
</div>


}@else {
  <div
  class="flex flex-col md:flex-row items-center md:items-start justify-between p-4 bg-gray-50 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1
         animate-fade-in"
  [class.animate-fade-out-left]="isDeleteLoading()"
>
  <!-- Product Image -->
  <img src="{{cartItem.product.imageCover}}" alt="{{cartItem.product.title}}" 
       class="w-28 h-28 object-contain rounded-xl mb-4 md:mb-0"/>

  <!-- Product Info -->
  <div class="flex-1 md:mx-6">
    <h2 class="text-xl font-semibold text-gray-900">{{cartItem.product.title}}</h2>
    <p class="text-gray-500 text-sm mt-1">{{cartItem.product.category.name}}</p>

 

    <p class="text-gray-700 font-bold mt-2">{{cartItem.price*cartItem.count}} EGP</p>
  </div>

  <!-- Quantity & Remove -->
  <div class="flex items-center gap-3 mt-4 md:mt-0">
    <button class="px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition"
            [disabled]="isUpdateLoading()" 
            (click)="$event.stopPropagation();onUpdateClick(cartItem.product._id,UpdateCount()-1)">-</button>

    <span class="text-gray-800 font-medium">{{UpdateCount()}}</span>

    <button class="px-3 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition"
            [disabled]="isUpdateLoading()" 
            (click)=" $event.stopPropagation(); onUpdateClick(cartItem.product._id,UpdateCount()+1)">+</button>

    @if (isDeleteLoading()) {
      <!-- Spinner -->
      <div class="flex items-center space-x-2 animate-fade-in">
        <svg class="w-6 h-6 text-red-500 animate-spin" xmlns="http://www.w3.org/2000/svg" 
             fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" 
                  stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" 
                d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
        </svg>
        <span class="text-sm font-medium text-red-500 animate-pulse">Removing...</span>
      </div>
    } @else {
      <button class="cursor-pointer text-red-500 hover:text-red-700 ml-4" 
              (click)="$event.stopPropagation();OnRemoveClick(cartItem.product._id)">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" 
             fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" 
                stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    }
  </div>
</div>
}
